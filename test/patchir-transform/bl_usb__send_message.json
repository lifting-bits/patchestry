// RUN: bash %strip-json-comments %s > %t.json
// RUN: %patchir-decomp -input %t.json -emit-cir -output %t1 >> /dev/null 2>&1

// RUN: %patchir-transform %t1.cir --spec %S/bl_usb__send_message_before_patch.yaml -o %t2.cir
// RUN: %file-check -vv -check-prefix=BEFORE %s --input-file %t2.cir
// BEFORE: cir.call @patch__before__usbd_ep_write_packet(%{{[0-9]+}}, %{{[0-9]+}}) {patched_operation = "cir.call"} : (!cir.ptr<!void>, !cir.ptr<!void>) -> () extra(#fn_attr)
// BEFORE: %{{[0-9]+}} = cir.call @usbd_ep_write_packet(%{{[0-9]+}}, %{{[0-9]+}}, %{{[0-9]+}}, %{{[0-9]+}}) : (!cir.ptr<!void>, !u8i, !cir.ptr<!void>, !u16i) -> !u16i extra(#fn_attr)


// RUN: %patchir-transform %t1.cir --spec %S/bl_usb__send_message_after_patch.yaml -o %t3.cir
// RUN: %file-check -vv -check-prefix=AFTER %s --input-file %t3.cir
// AFTER: %{{[0-9]+}} = cir.call @usbd_ep_write_packet(%{{[0-9]+}}, %{{[0-9]+}}, %{{[0-9]+}}, %{{[0-9]+}}) : (!cir.ptr<!void>, !u8i, !cir.ptr<!void>, !u16i) -> !u16i extra(#fn_attr)
// AFTER: cir.call @patch__after__usbd_ep_write_packet(%{{[0-9]+}}) {patched_operation = "cir.call"} : (!u32i) -> () extra(#fn_attr)

// RUN: %patchir-transform %t1.cir --spec %S/bl_usb__send_message_before_update_patch.yaml -o %t3.cir
// RUN: %file-check -vv -check-prefix=UPDATE %s --input-file %t3.cir
// UPDATE: cir.store {{.*}}, {{.*}} : {{.*}}
// UPDATE: cir.call @patch__before__usbd_cp_write_packet__update_state({{.*}}, {{.*}}) {{.*}} : {{.*}} -> ()
// UPDATE: %{{.*}} = cir.load {{.*}} : {{.*}}!cir.ptr<!void>
// UPDATE: %{{.*}} = cir.call @usbd_ep_write_packet(%{{.*}}, {{.*}}) : {{.*}} -> !u16i

{"arch":"ARM","id":"ARM:LE:32:Cortex","format":"Executable and Linking Format (ELF)","functions":{"ram:080006c4":{"name":"bl_usb__send_message","is_intrinsic":false,"type":{"return_type":"3b9a11b:3668974064835721937","is_variadic":false,"is_noreturn":false,"parameter_types":["f893fe2c"]},"basic_blocks":{"ram:080006c4:0:basic":{"operations":{"ram:080006c6:296:0":{"mnemonic":"PTRSUB","type":"3cd9aa2a","inputs":[{"type":"f893fe2c","kind":"parameter","operation":"unique:000da100:0:0"},{"type":"2169b041","kind":"constant","value":0}]},"ram:080006c6:7:1":{"mnemonic":"LOAD","type":"de8d1be3:3668974064852499164","output":{"kind":"local","operation":"unique:000da102:2:0"},"inputs":[{"type":"3cd9aa2a","kind":"temporary","operation":"ram:080006c6:296:0"}]},"ram:080006cc:20:2":{"mnemonic":"INT_LESS","type":"55cce7b8","inputs":[{"type":"de8d1be3:3668974064852499164","kind":"local","operation":"unique:000da102:2:0"},{"type":"de8d1be3:3668974064852499164","kind":"constant","value":12}]},"ram:080006cc:21:3":{"mnemonic":"CBRANCH","taken_block":"ram:080006ce:2:basic","not_taken_block":"ram:08000706:1:basic","condition":{"type":"55cce7b8","kind":"temporary","operation":"ram:080006cc:20:2"}}},"ordered_operations":["ram:080006c6:296:0","ram:080006c6:7:1","ram:080006cc:20:2","ram:080006cc:21:3"]},"ram:08000706:1:basic":{"operations":{"ram:08000706:259:0":{"mnemonic":"COPY","type":"e078b2eb:3668974064835721930","output":{"kind":"local","operation":"unique:000da103:3:0"},"inputs":[{"type":"e078b2eb:3668974064835721930","kind":"constant","value":0}]},"ram:08000708:148:1":{"mnemonic":"BRANCH","target_block":"ram:080006dc:7:basic"}},"ordered_operations":["ram:08000706:259:0","ram:08000708:148:1"]},"ram:080006ce:2:basic":{"operations":{"ram:080006d0:26:2":{"mnemonic":"CALL","type":"55d1855a","output":{"kind":"local","operation":"unique:000da104:4:0"},"has_return_value":true,"target":{"kind":"function","function":"ram:080006ac","is_variadic":false,"is_noreturn":false},"inputs":[{"type":"de8d1be3:3668974064852499164","kind":"local","operation":"unique:000da102:2:0"}]},"ram:080006d0:257:3":{"mnemonic":"INT_ZEXT","type":"e078b2eb:3668974064835721930","output":{"kind":"local","operation":"unique:000da103:3:0"},"inputs":[{"type":"55d1855a","kind":"local","operation":"unique:000da104:4:0"}]},"ram:080006d4:31:4":{"mnemonic":"INT_EQUAL","type":"55cce7b8","inputs":[{"type":"de8d1be3:3668974064852499164","kind":"local","operation":"unique:000da102:2:0"},{"type":"de8d1be3:3668974064852499164","kind":"constant","value":6}]},"ram:080006d6:295:5":{"mnemonic":"COPY","type":"f893fe2c","output":{"kind":"parameter","operation":"unique:000da100:0:0"},"inputs":[{"type":"f893fe2c","kind":"local","operation":"unique:000da105:5:0"}]},"ram:080006d6:37:6":{"mnemonic":"CBRANCH","taken_block":"ram:080006f4:3:basic","not_taken_block":"ram:080006d8:4:basic","condition":{"type":"55cce7b8","kind":"temporary","operation":"ram:080006d4:31:4"}}},"ordered_operations":["ram:080006d0:26:2","ram:080006d0:257:3","ram:080006d4:31:4","ram:080006d6:295:5","ram:080006d6:37:6"]},"ram:080006f4:3:basic":{"operations":{"ram:080006f4:297:0":{"mnemonic":"PTRSUB","type":"ddd4ce61","inputs":[{"type":"f893fe2c","kind":"local","operation":"unique:000da105:5:0"},{"type":"2169b041","kind":"constant","value":0}]},"ram:080006f4:291:1":{"mnemonic":"PTRSUB","type":"3cd9aa2a","inputs":[{"type":"ddd4ce61","kind":"temporary","operation":"ram:080006f4:297:0"},{"type":"2c7b6d4","kind":"constant","value":2}]},"ram:080006f4:130:2":{"mnemonic":"LOAD","type":"f6bd5cf1:3668974064835721927","inputs":[{"type":"3cd9aa2a","kind":"temporary","operation":"ram:080006f4:291:1"}]},"ram:080006f6:136:3":{"mnemonic":"INT_LEFT","type":"55d79ccc","output":{"kind":"local","operation":"unique:000da106:6:0"},"inputs":[{"type":"f6bd5cf1:3668974064835721927","kind":"temporary","operation":"ram:080006f4:130:2"},{"type":"2c7b6d4","kind":"constant","value":1}]},"ram:080006f4:3:basic.exit":{"mnemonic":"BRANCH","target_block":"ram:080006fa:6:basic"}},"ordered_operations":["ram:080006f4:297:0","ram:080006f4:291:1","ram:080006f4:130:2","ram:080006f6:136:3","ram:080006f4:3:basic.exit"]},"ram:080006d8:4:basic":{"operations":{"ram:080006d8:42:0":{"mnemonic":"INT_NOTEQUAL","type":"55cce7b8","inputs":[{"type":"de8d1be3:3668974064852499164","kind":"local","operation":"unique:000da102:2:0"},{"type":"de8d1be3:3668974064852499164","kind":"constant","value":7}]},"ram:080006da:48:1":{"mnemonic":"CBRANCH","taken_block":"ram:080006dc:7:basic","not_taken_block":"ram:080006fe:5:basic","condition":{"type":"55cce7b8","kind":"temporary","operation":"ram:080006d8:42:0"}}},"ordered_operations":["ram:080006d8:42:0","ram:080006da:48:1"]},"ram:080006fe:5:basic":{"operations":{"ram:080006fe:298:0":{"mnemonic":"PTRSUB","type":"ddd4ce61","inputs":[{"type":"f893fe2c","kind":"local","operation":"unique:000da105:5:0"},{"type":"2169b041","kind":"constant","value":0}]},"ram:080006fe:292:1":{"mnemonic":"PTRSUB","type":"3cd9aa2a","inputs":[{"type":"ddd4ce61","kind":"temporary","operation":"ram:080006fe:298:0"},{"type":"2c7b6d4","kind":"constant","value":2}]},"ram:080006fe:112:2":{"mnemonic":"LOAD","type":"f6bd5cf1:3668974064835721927","inputs":[{"type":"3cd9aa2a","kind":"temporary","operation":"ram:080006fe:292:1"}]},"ram:08000700:118:3":{"mnemonic":"INT_LEFT","type":"55d79ccc","output":{"kind":"local","operation":"unique:000da106:6:0"},"inputs":[{"type":"f6bd5cf1:3668974064835721927","kind":"temporary","operation":"ram:080006fe:112:2"},{"type":"2c7b6d4","kind":"constant","value":2}]},"ram:08000704:125:4":{"mnemonic":"BRANCH","target_block":"ram:080006fa:6:basic"}},"ordered_operations":["ram:080006fe:298:0","ram:080006fe:292:1","ram:080006fe:112:2","ram:08000700:118:3","ram:08000704:125:4"]},"ram:080006fa:6:basic":{"operations":{"ram:08000700:122:1":{"mnemonic":"INT_ADD","type":"55d1855a","inputs":[{"type":"55d1855a","kind":"local","operation":"unique:000da104:4:0"},{"type":"55d79ccc","kind":"local","operation":"unique:000da106:6:0"}]},"ram:080006fa:299:2":{"mnemonic":"CAST","type":"55d1855a","inputs":[{"type":"55d1855a","kind":"temporary","operation":"ram:08000700:122:1"}]},"ram:080006fa:258:3":{"mnemonic":"INT_ZEXT","type":"e078b2eb:3668974064835721930","output":{"kind":"local","operation":"unique:000da103:3:0"},"inputs":[{"type":"55d1855a","kind":"temporary","operation":"ram:080006fa:299:2"}]},"ram:080006fc:128:4":{"mnemonic":"BRANCH","target_block":"ram:080006dc:7:basic"}},"ordered_operations":["ram:08000700:122:1","ram:080006fa:299:2","ram:080006fa:258:3","ram:080006fc:128:4"]},"ram:080006dc:7:basic":{"operations":{"unique:000da101:1:0":{"mnemonic":"ADDRESS_OF","type":"b6bd4d85","inputs":[{"type":"6c581b0f:3668974064917510870","kind":"global","global":"ram:2000859c"}]},"ram:080006e8:64:4":{"mnemonic":"CALL","type":"e078b2eb:3668974064835721930","output":{"kind":"local","operation":"unique:000da107:7:0"},"has_return_value":true,"target":{"kind":"function","function":"ram:08002800","is_variadic":false,"is_noreturn":false},"inputs":[{"type":"b6bd4d85","kind":"temporary","operation":"unique:000da101:1:0"},{"type":"f6bd5cf1:3668974064835721927","kind":"constant","value":130},{"type":"f893fe2c","kind":"parameter","operation":"unique:000da100:0:0"},{"type":"e078b2eb:3668974064835721930","kind":"local","operation":"unique:000da103:3:0"}]},"ram:080006ee:74:5":{"mnemonic":"INT_EQUAL","type":"55cce7b8","inputs":[{"type":"e078b2eb:3668974064835721930","kind":"local","operation":"unique:000da107:7:0"},{"type":"e078b2eb:3668974064835721930","kind":"local","operation":"unique:000da103:3:0"}]},"ram:080006f0:93:6":{"mnemonic":"COPY","type":"3b9a11b:3668974064835721937","inputs":[{"type":"55cce7b8","kind":"temporary","operation":"ram:080006ee:74:5"}]},"ram:080006f2:110:8":{"mnemonic":"RETURN","inputs":[{"type":"3b9a11b:3668974064835721937","kind":"temporary","operation":"ram:080006f0:93:6"}]}},"ordered_operations":["unique:000da101:1:0","ram:080006e8:64:4","ram:080006ee:74:5","ram:080006f0:93:6","ram:080006f2:110:8"]},"ram:080006c4:entry":{"operations":{"unique:000da100:0:0":{"mnemonic":"DECLARE_PARAMETER","name":"msg","type":"f893fe2c","kind":"parameter","index":0},"unique:000da102:2:0":{"mnemonic":"DECLARE_LOCAL","kind":"local","name":"type","type":"de8d1be3:3668974064852499164"},"unique:000da103:3:0":{"mnemonic":"DECLARE_LOCAL","kind":"local","name":"len","type":"e078b2eb:3668974064835721930"},"unique:000da104:4:0":{"mnemonic":"DECLARE_LOCAL","kind":"local","name":"bVar2","type":"55d1855a"},"unique:000da105:5:0":{"mnemonic":"DECLARE_LOCAL","kind":"local","name":"extraout_r1","type":"f893fe2c"},"unique:000da106:6:0":{"mnemonic":"DECLARE_LOCAL","kind":"local","name":"cVar1","type":"55d79ccc"},"unique:000da107:7:0":{"mnemonic":"DECLARE_LOCAL","kind":"local","name":"uVar3","type":"e078b2eb:3668974064835721930"},"entry.exit":{"mnemonic":"BRANCH","target_block":"ram:080006c4:0:basic"}},"ordered_operations":["unique:000da100:0:0","unique:000da102:2:0","unique:000da103:3:0","unique:000da104:4:0","unique:000da105:5:0","unique:000da106:6:0","unique:000da107:7:0","entry.exit"]}},"entry_block":"ram:080006c4:entry"},"ram:080006ac":{"name":"bl_msg_type_to_len","is_intrinsic":false,"type":{"return_type":"f6bd5cf1:3668974064835721927","is_variadic":false,"is_noreturn":false,"parameter_types":["de8d1be3:3668974064852499164"]}},"ram:08002800":{"name":"usbd_ep_write_packet","is_intrinsic":false,"type":{"return_type":"e078b2eb:3668974064835721930","is_variadic":false,"is_noreturn":false,"parameter_types":["f852e3ab","f6bd5cf1:3668974064835721927","37d61047","e078b2eb:3668974064835721930"]}}},"globals":{"ram:2000859c":{"name":"usb_g","size":"4","type":"6c581b0f:3668974064917510870"}},"types":{"3b9a11b:3668974064835721937":{"name":"_Bool","kind":"typedef","size":1,"base_type":"55cce7b8"},"f893fe2c":{"kind":"pointer","size":4,"element_type":"d67865bc:3668974064873470678"},"3cd9aa2a":{"kind":"pointer","size":4,"element_type":"f6bd5cf1:3668974064835721927"},"2169b041":{"name":"undefined4","size":4,"kind":"undefined"},"de8d1be3:3668974064852499164":{"name":"bl_msg_type","kind":"enum","size":1,"num_entries":13,"entries":[{"name":"BL_MSG_RESPONSE","value":0},{"name":"BL_MSG_LED","value":1},{"name":"BL_MSG_SOURCE_CONF","value":2},{"name":"BL_MSG_CHANNEL_CONF","value":3},{"name":"BL_MSG_START","value":4},{"name":"BL_MSG_ABORT","value":5},{"name":"BL_MSG_SAMPLE_DATA16","value":6},{"name":"BL_MSG_SAMPLE_DATA32","value":7},{"name":"BL_MSG_SOURCE_CAP_REQ","value":8},{"name":"BL_MSG_SOURCE_CAP","value":9},{"name":"BL_MSG_VERSION_REQ","value":10},{"name":"BL_MSG_VERSION","value":11},{"name":"BL_MSG__COUNT","value":12}]},"55cce7b8":{"name":"bool","size":1,"kind":"integer"},"e078b2eb:3668974064835721930":{"name":"uint16_t","kind":"typedef","size":2,"base_type":"56f4df99"},"55d1855a":{"name":"unsigned char","size":1,"kind":"integer"},"ddd4ce61":{"kind":"pointer","size":4,"element_type":"30723a48:3668974064860887749"},"2c7b6d4":{"name":"int","size":4,"kind":"integer"},"f6bd5cf1:3668974064835721927":{"name":"uint8_t","kind":"typedef","size":1,"base_type":"838fb935"},"55d79ccc":{"name":"char","size":1,"kind":"integer"},"b6bd4d85":{"kind":"pointer","size":4,"element_type":"6c581b0f:3668974064917510870"},"6c581b0f:3668974064917510870":{"name":"anon_struct_4_1_58265f66","kind":"struct","size":4,"fields":[{"type":"f852e3ab","offset":0,"name":"handle"}]},"f852e3ab":{"kind":"pointer","size":4,"element_type":"f8532890:3668974064904927948"},"37d61047":{"kind":"pointer","size":4,"element_type":"56e6a64d"},"d67865bc:3668974064873470678":{"name":"bl_msg_data","kind":"union","size":64,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"type"},{"type":"b722bdaa:3668974064852499167","offset":0,"name":"response"},{"type":"e45042c8:3668974064860887746","offset":0,"name":"led"},{"type":"30723a48:3668974064860887749","offset":0,"name":"source_conf"},{"type":"bffb868a:3668974064860887752","offset":0,"name":"channel_conf"},{"type":"bdeab9e2:3668974064860887755","offset":0,"name":"start"},{"type":"fbcce80:3668974064860887758","offset":0,"name":"abort"},{"type":"1c208bbe:3668974064860887770","offset":0,"name":"sample_data"},{"type":"3e3bfadc:3668974064860887773","offset":0,"name":"source_cap_req"},{"type":"7ceb222:3668974064873470664","offset":0,"name":"source_cap"},{"type":"a7bf6899:3668974064873470669","offset":0,"name":"version_req"},{"type":"721b2c7b:3668974064873470673","offset":0,"name":"version"}]},"56f4df99":{"name":"unsigned short","size":2,"kind":"integer"},"30723a48:3668974064860887749":{"name":"bl_msg_source_conf_t","kind":"struct","size":10,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"type"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"source"},{"type":"f6bd5cf1:3668974064835721927","offset":2,"name":"opamp_gain"},{"type":"e078b2eb:3668974064835721930","offset":4,"name":"opamp_offset"},{"type":"e078b2eb:3668974064835721930","offset":6,"name":"sw_oversample"},{"type":"f6bd5cf1:3668974064835721927","offset":8,"name":"hw_oversample"},{"type":"f6bd5cf1:3668974064835721927","offset":9,"name":"hw_shift"}]},"838fb935":{"name":"unsigned char","size":1,"kind":"integer"},"f8532890:3668974064904927948":{"name":"usbd_device","kind":"typedef","size":252,"base_type":"e70988d3:3668974064904927949"},"56e6a64d":{"name":"void","size":0,"kind":"void"},"b722bdaa:3668974064852499167":{"name":"bl_msg_response_t","kind":"struct","size":4,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"type"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"response_to"},{"type":"e078b2eb:3668974064835721930","offset":2,"name":"error_code"}]},"e45042c8:3668974064860887746":{"name":"bl_msg_led_t","kind":"struct","size":4,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"type"},{"type":"e078b2eb:3668974064835721930","offset":2,"name":"led_mask"}]},"bffb868a:3668974064860887752":{"name":"bl_msg_channel_conf_t","kind":"struct","size":12,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"type"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"channel"},{"type":"f6bd5cf1:3668974064835721927","offset":2,"name":"source"},{"type":"f6bd5cf1:3668974064835721927","offset":3,"name":"shift"},{"type":"e0931073:3668974064670046941","offset":4,"name":"offset"},{"type":"f6bd5cf1:3668974064835721927","offset":8,"name":"sample32"}]},"bdeab9e2:3668974064860887755":{"name":"bl_msg_start_t","kind":"struct","size":10,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"type"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"detection_mode"},{"type":"f6bd5cf1:3668974064835721927","offset":2,"name":"flash_mode"},{"type":"e078b2eb:3668974064835721930","offset":4,"name":"frequency"},{"type":"e078b2eb:3668974064835721930","offset":6,"name":"led_mask"},{"type":"e078b2eb:3668974064835721930","offset":8,"name":"src_mask"}]},"fbcce80:3668974064860887758":{"name":"bl_msg_abort_t","kind":"struct","size":1,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"type"}]},"1c208bbe:3668974064860887770":{"name":"bl_msg_sample_data_t","kind":"struct","size":64,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"type"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"channel"},{"type":"f6bd5cf1:3668974064835721927","offset":2,"name":"count"},{"type":"f6bd5cf1:3668974064835721927","offset":3,"name":"reserved"},{"type":"9b8b26ac:3668974064860887763","offset":4,"name":"field_4"}]},"3e3bfadc:3668974064860887773":{"name":"bl_msg_source_cap_req_t","kind":"struct","size":2,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"type"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"source"}]},"7ceb222:3668974064873470664":{"name":"bl_msg_source_cap_t","kind":"struct","size":9,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"type"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"source"},{"type":"3d8227e5:3668974064873470660","offset":2,"name":"field_2"},{"type":"5e769f34","offset":3,"name":"opamp_gain"}]},"a7bf6899:3668974064873470669":{"name":"bl_msg_version_req_t","kind":"struct","size":1,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"type"}]},"721b2c7b:3668974064873470673":{"name":"bl_msg_version_t","kind":"struct","size":24,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"type"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"revision"},{"type":"491eaea0","offset":4,"name":"commit_sha"}]},"e70988d3:3668974064904927949":{"name":"_usbd_device","kind":"struct","size":252,"fields":[{"type":"54666b42","offset":0,"name":"desc"},{"type":"5c01c32e","offset":4,"name":"config"},{"type":"33085c3b","offset":8,"name":"strings"},{"type":"2c7b6d4","offset":12,"name":"num_strings"},{"type":"3cd9aa2a","offset":16,"name":"ctrl_buf"},{"type":"e078b2eb:3668974064835721930","offset":20,"name":"ctrl_buf_len"},{"type":"f6bd5cf1:3668974064835721927","offset":22,"name":"current_address"},{"type":"f6bd5cf1:3668974064835721927","offset":23,"name":"current_config"},{"type":"e078b2eb:3668974064835721930","offset":24,"name":"pm_top"},{"type":"727702aa","offset":28,"name":"user_callback_reset"},{"type":"727702aa","offset":32,"name":"user_callback_suspend"},{"type":"727702aa","offset":36,"name":"user_callback_resume"},{"type":"727702aa","offset":40,"name":"user_callback_sof"},{"type":"78b7f094:3668974065078991583","offset":44,"name":"control_state"},{"type":"792cb2ce","offset":72,"name":"user_control_callback"},{"type":"cba1b448","offset":104,"name":"user_callback_ctr"},{"type":"2d11288d","offset":200,"name":"user_callback_set_config"},{"type":"5756455d:3668974065085283030","offset":216,"name":"user_callback_set_altsetting"},{"type":"9418a0dc","offset":220,"name":"driver"},{"type":"e078b2eb:3668974064835721930","offset":224,"name":"fifo_mem_top"},{"type":"e078b2eb:3668974064835721930","offset":226,"name":"fifo_mem_top_ep0"},{"type":"5e7697b0","offset":228,"name":"force_nak"},{"type":"491e3a28","offset":232,"name":"doeptsiz"},{"type":"e078b2eb:3668974064835721930","offset":248,"name":"rxbcnt"}]},"e0931073:3668974064670046941":{"name":"uint32_t","kind":"typedef","size":4,"base_type":"67aa9975"},"9b8b26ac:3668974064860887763":{"name":"anon_union_60_2_2ab491bb_for_bl_msg_sample_data_t_4","kind":"union","size":60,"fields":[{"type":"4305fdc6","offset":0,"name":"data16"},{"type":"da6d3ad9","offset":0,"name":"data32"}]},"3d8227e5:3668974064873470660":{"name":"anon_union_1_2_657f631f_for_bl_msg_source_cap_t_2","kind":"union","size":1,"fields":[{"type":"2169afe1","offset":0,"name":"field_0"},{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"flags"}]},"5e769f34":{"kind":"array","size":6,"num_elements":6,"element_type":"f6bd5cf1:3668974064835721927"},"491eaea0":{"kind":"array","size":20,"num_elements":5,"element_type":"e0931073:3668974064670046941"},"54666b42":{"kind":"pointer","size":4,"element_type":"2b8fd4f:3668974064886053599"},"5c01c32e":{"kind":"pointer","size":4,"element_type":"979cf7de:3668974064904927936"},"33085c3b":{"kind":"pointer","size":4,"element_type":"3e635f45"},"727702aa":{"kind":"pointer","size":4,"element_type":"4e03d864:3668974065053825754"},"78b7f094:3668974065078991583":{"name":"usb_control_state","kind":"struct","size":28,"fields":[{"type":"65db6e2a:3668974065066408670","offset":0,"name":"state"},{"type":"d7c99a50:3668974063141223128","offset":1},{"type":"d7c99a50:3668974063141223128","offset":2},{"type":"d7c99a50:3668974063141223128","offset":3},{"type":"3bc2bdbc:3668974064886053596","offset":4,"name":"req"},{"type":"3cd9aa2a","offset":12,"name":"ctrl_buf"},{"type":"e078b2eb:3668974064835721930","offset":16,"name":"ctrl_len"},{"type":"d7c99a50:3668974063141223128","offset":18},{"type":"d7c99a50:3668974063141223128","offset":19},{"type":"c1b06fb4:3668974064904927958","offset":20,"name":"complete"},{"type":"3b9a11b:3668974064835721937","offset":24,"name":"needs_zlp"},{"type":"d7c99a50:3668974063141223128","offset":25},{"type":"d7c99a50:3668974063141223128","offset":26},{"type":"d7c99a50:3668974063141223128","offset":27}]},"792cb2ce":{"kind":"array","size":32,"num_elements":4,"element_type":"bb269ee3:3668974065085283010"},"cba1b448":{"kind":"array","size":96,"num_elements":8,"element_type":"e7580fc0"},"2d11288d":{"kind":"array","size":16,"num_elements":4,"element_type":"b01ef958:3668974065085283025"},"5756455d:3668974065085283030":{"name":"usbd_set_altsetting_callback","kind":"typedef","size":4,"base_type":"a8c90ce5"},"9418a0dc":{"kind":"pointer","size":4,"element_type":"db7caceb:3668974064904927944"},"5e7697b0":{"kind":"array","size":4,"num_elements":4,"element_type":"f6bd5cf1:3668974064835721927"},"491e3a28":{"kind":"array","size":16,"num_elements":4,"element_type":"e0931073:3668974064670046941"},"67aa9975":{"name":"unsigned int","size":4,"kind":"integer"},"4305fdc6":{"kind":"array","size":60,"num_elements":30,"element_type":"e078b2eb:3668974064835721930"},"da6d3ad9":{"kind":"array","size":60,"num_elements":15,"element_type":"e0931073:3668974064670046941"},"2169afe1":{"name":"undefined1","size":1,"kind":"undefined"},"2b8fd4f:3668974064886053599":{"name":"usb_device_descriptor","kind":"struct","size":18,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"bLength"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"bDescriptorType"},{"type":"e078b2eb:3668974064835721930","offset":2,"name":"bcdUSB"},{"type":"f6bd5cf1:3668974064835721927","offset":4,"name":"bDeviceClass"},{"type":"f6bd5cf1:3668974064835721927","offset":5,"name":"bDeviceSubClass"},{"type":"f6bd5cf1:3668974064835721927","offset":6,"name":"bDeviceProtocol"},{"type":"f6bd5cf1:3668974064835721927","offset":7,"name":"bMaxPacketSize0"},{"type":"e078b2eb:3668974064835721930","offset":8,"name":"idVendor"},{"type":"e078b2eb:3668974064835721930","offset":10,"name":"idProduct"},{"type":"e078b2eb:3668974064835721930","offset":12,"name":"bcdDevice"},{"type":"f6bd5cf1:3668974064835721927","offset":14,"name":"iManufacturer"},{"type":"f6bd5cf1:3668974064835721927","offset":15,"name":"iProduct"},{"type":"f6bd5cf1:3668974064835721927","offset":16,"name":"iSerialNumber"},{"type":"f6bd5cf1:3668974064835721927","offset":17,"name":"bNumConfigurations"}]},"979cf7de:3668974064904927936":{"name":"usb_config_descriptor","kind":"struct","size":13,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"bLength"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"bDescriptorType"},{"type":"e078b2eb:3668974064835721930","offset":2,"name":"wTotalLength"},{"type":"f6bd5cf1:3668974064835721927","offset":4,"name":"bNumInterfaces"},{"type":"f6bd5cf1:3668974064835721927","offset":5,"name":"bConfigurationValue"},{"type":"f6bd5cf1:3668974064835721927","offset":6,"name":"iConfiguration"},{"type":"f6bd5cf1:3668974064835721927","offset":7,"name":"bmAttributes"},{"type":"f6bd5cf1:3668974064835721927","offset":8,"name":"bMaxPower"},{"type":"246bb361","offset":9,"name":"interface"}]},"3e635f45":{"kind":"pointer","size":4,"element_type":"55d79ccc"},"4e03d864:3668974065053825754":{"kind":"function","return_type":"56e6a64d","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":[]},"65db6e2a:3668974065066408670":{"name":"anon_enum_8","kind":"enum","size":1,"num_entries":8,"entries":[{"name":"IDLE","value":0},{"name":"STALLED","value":1},{"name":"DATA_IN","value":2},{"name":"LAST_DATA_IN","value":3},{"name":"STATUS_IN","value":4},{"name":"DATA_OUT","value":5},{"name":"LAST_DATA_OUT","value":6},{"name":"STATUS_OUT","value":7}]},"d7c99a50:3668974063141223128":{"name":"undefined","size":1,"kind":"undefined"},"3bc2bdbc:3668974064886053596":{"name":"usb_setup_data","kind":"struct","size":8,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"bmRequestType"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"bRequest"},{"type":"e078b2eb:3668974064835721930","offset":2,"name":"wValue"},{"type":"e078b2eb:3668974064835721930","offset":4,"name":"wIndex"},{"type":"e078b2eb:3668974064835721930","offset":6,"name":"wLength"}]},"c1b06fb4:3668974064904927958":{"name":"usbd_control_complete_callback","kind":"typedef","size":4,"base_type":"1ca3acba"},"bb269ee3:3668974065085283010":{"name":"user_control_callback","kind":"struct","size":8,"fields":[{"type":"54c3dd84:3668974065085283011","offset":0,"name":"cb"},{"type":"f6bd5cf1:3668974064835721927","offset":4,"name":"type"},{"type":"f6bd5cf1:3668974064835721927","offset":5,"name":"type_mask"}]},"e7580fc0":{"kind":"array","size":12,"num_elements":3,"element_type":"405f8fee:3668974065078991557"},"b01ef958:3668974065085283025":{"name":"usbd_set_config_callback","kind":"typedef","size":4,"base_type":"e6ae04bc"},"a8c90ce5":{"kind":"pointer","size":4,"element_type":"267a1ac9:3668974065085283032"},"db7caceb:3668974064904927944":{"name":"_usbd_driver","kind":"struct","size":52,"fields":[{"type":"a4c5f752","offset":0,"name":"init"},{"type":"3ef74c31","offset":4,"name":"set_address"},{"type":"677fee21","offset":8,"name":"ep_setup"},{"type":"9c958f05","offset":12,"name":"ep_reset"},{"type":"f20f1d5d","offset":16,"name":"ep_stall_set"},{"type":"f20f1d5d","offset":20,"name":"ep_nak_set"},{"type":"bbefeaa","offset":24,"name":"ep_stall_get"},{"type":"1ba9f80","offset":28,"name":"ep_write_packet"},{"type":"1ba9f80","offset":32,"name":"ep_read_packet"},{"type":"9c958f05","offset":36,"name":"poll"},{"type":"6332039b","offset":40,"name":"disconnect"},{"type":"e0931073:3668974064670046941","offset":44,"name":"base_address"},{"type":"3b9a11b:3668974064835721937","offset":48,"name":"set_address_before_status"},{"type":"e078b2eb:3668974064835721930","offset":50,"name":"rx_fifo_size"}]},"246bb361":{"kind":"pointer","size":4,"element_type":"f8eab54e:3668974064894442190"},"1ca3acba":{"kind":"pointer","size":4,"element_type":"9591ac54:3668974064904927960"},"54c3dd84:3668974065085283011":{"name":"usbd_control_callback","kind":"typedef","size":4,"base_type":"72324bcc"},"405f8fee:3668974065078991557":{"name":"usbd_endpoint_callback","kind":"typedef","size":4,"base_type":"3ef74c31"},"e6ae04bc":{"kind":"pointer","size":4,"element_type":"30bb4c12:3668974065085283027"},"267a1ac9:3668974065085283032":{"kind":"function","return_type":"56e6a64d","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":["f852e3ab","e078b2eb:3668974064835721930","e078b2eb:3668974064835721930"]},"a4c5f752":{"kind":"pointer","size":4,"element_type":"812faebc:3668974065074797277"},"3ef74c31":{"kind":"pointer","size":4,"element_type":"6520c1fd:3668974065078991552"},"677fee21":{"kind":"pointer","size":4,"element_type":"b904220d:3668974065078991555"},"9c958f05":{"kind":"pointer","size":4,"element_type":"e404d4a9:3668974065078991559"},"f20f1d5d":{"kind":"pointer","size":4,"element_type":"9c741b51:3668974065078991562"},"bbefeaa":{"kind":"pointer","size":4,"element_type":"adcc5c64:3668974065078991565"},"1ba9f80":{"kind":"pointer","size":4,"element_type":"e48ce:3668974065078991568"},"6332039b":{"kind":"pointer","size":4,"element_type":"a85c7553:3668974065078991572"},"f8eab54e:3668974064894442190":{"name":"usb_interface","kind":"struct","size":16,"fields":[{"type":"3cd9aa2a","offset":0,"name":"cur_altsetting"},{"type":"f6bd5cf1:3668974064835721927","offset":4,"name":"num_altsetting"},{"type":"454175a8","offset":8,"name":"iface_assoc"},{"type":"a1df4b45","offset":12,"name":"altsetting"}]},"9591ac54:3668974064904927960":{"kind":"function","return_type":"56e6a64d","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":["f852e3ab","5609e9ee"]},"72324bcc":{"kind":"pointer","size":4,"element_type":"6f09e302:3668974065085283013"},"30bb4c12:3668974065085283027":{"kind":"function","return_type":"56e6a64d","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":["f852e3ab","e078b2eb:3668974064835721930"]},"812faebc:3668974065074797277":{"kind":"function","return_type":"f852e3ab","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":[]},"6520c1fd:3668974065078991552":{"kind":"function","return_type":"56e6a64d","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":["f852e3ab","f6bd5cf1:3668974064835721927"]},"b904220d:3668974065078991555":{"kind":"function","return_type":"56e6a64d","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":["f852e3ab","f6bd5cf1:3668974064835721927","f6bd5cf1:3668974064835721927","e078b2eb:3668974064835721930","405f8fee:3668974065078991557"]},"e404d4a9:3668974065078991559":{"kind":"function","return_type":"56e6a64d","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":["f852e3ab"]},"9c741b51:3668974065078991562":{"kind":"function","return_type":"56e6a64d","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":["f852e3ab","f6bd5cf1:3668974064835721927","f6bd5cf1:3668974064835721927"]},"adcc5c64:3668974065078991565":{"kind":"function","return_type":"f6bd5cf1:3668974064835721927","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":["f852e3ab","f6bd5cf1:3668974064835721927"]},"e48ce:3668974065078991568":{"kind":"function","return_type":"e078b2eb:3668974064835721930","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":["f852e3ab","f6bd5cf1:3668974064835721927","37d61047","e078b2eb:3668974064835721930"]},"a85c7553:3668974065078991572":{"kind":"function","return_type":"56e6a64d","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":["f852e3ab","3b9a11b:3668974064835721937"]},"454175a8":{"kind":"pointer","size":4,"element_type":"8cfdeff6:3668974064894442195"},"a1df4b45":{"kind":"pointer","size":4,"element_type":"ec729104:3668974064894442197"},"5609e9ee":{"kind":"pointer","size":4,"element_type":"3bc2bdbc:3668974064886053596"},"6f09e302:3668974065085283013":{"kind":"function","return_type":"8a9c7ee1:3668974064904927940","is_variadic":false,"is_noreturn":false,"calling_convention":"unknown","parameter_types":["f852e3ab","5609e9ee","6d1781e0","a51765e3","17530cea"]},"8cfdeff6:3668974064894442195":{"name":"usb_iface_assoc_descriptor","kind":"struct","size":8,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"bLength"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"bDescriptorType"},{"type":"f6bd5cf1:3668974064835721927","offset":2,"name":"bFirstInterface"},{"type":"f6bd5cf1:3668974064835721927","offset":3,"name":"bInterfaceCount"},{"type":"f6bd5cf1:3668974064835721927","offset":4,"name":"bFunctionClass"},{"type":"f6bd5cf1:3668974064835721927","offset":5,"name":"bFunctionSubClass"},{"type":"f6bd5cf1:3668974064835721927","offset":6,"name":"bFunctionProtocol"},{"type":"f6bd5cf1:3668974064835721927","offset":7,"name":"iFunction"}]},"ec729104:3668974064894442197":{"name":"usb_interface_descriptor","kind":"struct","size":21,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"bLength"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"bDescriptorType"},{"type":"f6bd5cf1:3668974064835721927","offset":2,"name":"bInterfaceNumber"},{"type":"f6bd5cf1:3668974064835721927","offset":3,"name":"bAlternateSetting"},{"type":"f6bd5cf1:3668974064835721927","offset":4,"name":"bNumEndpoints"},{"type":"f6bd5cf1:3668974064835721927","offset":5,"name":"bInterfaceClass"},{"type":"f6bd5cf1:3668974064835721927","offset":6,"name":"bInterfaceSubClass"},{"type":"f6bd5cf1:3668974064835721927","offset":7,"name":"bInterfaceProtocol"},{"type":"f6bd5cf1:3668974064835721927","offset":8,"name":"iInterface"},{"type":"5bc1c41","offset":9,"name":"endpoint"},{"type":"37d61047","offset":13,"name":"extra"},{"type":"2c7b6d4","offset":17,"name":"extralen"}]},"8a9c7ee1:3668974064904927940":{"name":"usbd_request_return_codes","kind":"enum","size":1,"num_entries":3,"entries":[{"name":"USBD_REQ_NOTSUPP","value":0},{"name":"USBD_REQ_HANDLED","value":1},{"name":"USBD_REQ_NEXT_CALLBACK","value":2}]},"6d1781e0":{"kind":"pointer","size":4,"element_type":"3cd9aa2a"},"a51765e3":{"kind":"pointer","size":4,"element_type":"e078b2eb:3668974064835721930"},"17530cea":{"kind":"pointer","size":4,"element_type":"c1b06fb4:3668974064904927958"},"5bc1c41":{"kind":"pointer","size":4,"element_type":"2979b06d:3668974064894442201"},"2979b06d:3668974064894442201":{"name":"usb_endpoint_descriptor","kind":"struct","size":15,"fields":[{"type":"f6bd5cf1:3668974064835721927","offset":0,"name":"bLength"},{"type":"f6bd5cf1:3668974064835721927","offset":1,"name":"bDescriptorType"},{"type":"f6bd5cf1:3668974064835721927","offset":2,"name":"bEndpointAddress"},{"type":"f6bd5cf1:3668974064835721927","offset":3,"name":"bmAttributes"},{"type":"e078b2eb:3668974064835721930","offset":4,"name":"wMaxPacketSize"},{"type":"f6bd5cf1:3668974064835721927","offset":6,"name":"bInterval"},{"type":"37d61047","offset":7,"name":"extra"},{"type":"2c7b6d4","offset":11,"name":"extralen"}]}}}
