// RUN: bash %strip-json-comments %s > %t.json
// RUN: %pcode-lifter -input %t.json -emit-cir -emit-mlir -emit-llvm -print-tu -output %t >> /dev/null 2>&1
// RUN: test -e %t.c
// RUN %file-check --input-file %t.cir -check-prefix=CIR
// CIR: cir.func @adc_init
// RUN %file-check --input-file %t.mlir -check-prefix=MLIR
// MLIR: llvm.func @adc_init
// RUN %file-check --input-file %t.ll -check-prefix=LL
// LL: define void @adc_init()
{
  "arch": "ARM",
  "format": "Executable and Linking Format (ELF)",
  "functions": {
    "ram:08000674": {
      "name": "adc_init",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": []
      },
      "basic_blocks": {
        "ram:08000674:0:basic": {
          "operations": {
            "ram:0800067a:11:0": {
              "mnemonic": "CALL",
              "has_return_value": false,
              "target": {
                "kind": "function",
                "function": "ram:080017b8",
                "is_variadic": false,
                "is_noreturn": false
              },
              "inputs": [
                {
                  "type": "859c4125:3645194372339689393",
                  "kind": "constant",
                  "value": 777
                }
              ]
            },
            "ram:08000680:20:1": {
              "mnemonic": "CALL",
              "has_return_value": false,
              "target": {
                "kind": "function",
                "function": "ram:08001830",
                "is_variadic": false,
                "is_noreturn": false
              },
              "inputs": [
                {
                  "type": "e0931073:3645194372169820095",
                  "kind": "constant",
                  "value": 1073816576
                }
              ]
            },
            "ram:08000688:34:2": {
              "mnemonic": "CALL",
              "has_return_value": false,
              "target": {
                "kind": "function",
                "function": "ram:080016c8",
                "is_variadic": false,
                "is_noreturn": false
              },
              "inputs": [
                {
                  "type": "e0931073:3645194372169820095",
                  "kind": "constant",
                  "value": 1073816576
                },
                {
                  "type": "e0931073:3645194372169820095",
                  "kind": "constant",
                  "value": 0
                }
              ]
            },
            "ram:0800068e:43:3": {
              "mnemonic": "CALL",
              "has_return_value": false,
              "target": {
                "kind": "function",
                "function": "ram:08001844",
                "is_variadic": false,
                "is_noreturn": false
              },
              "inputs": [
                {
                  "type": "e0931073:3645194372169820095",
                  "kind": "constant",
                  "value": 1073816576
                }
              ]
            },
            "ram:08000696:57:4": {
              "mnemonic": "CALL",
              "has_return_value": false,
              "target": {
                "kind": "function",
                "function": "ram:08001674",
                "is_variadic": false,
                "is_noreturn": false
              },
              "inputs": [
                {
                  "type": "e0931073:3645194372169820095",
                  "kind": "constant",
                  "value": 1073816576
                },
                {
                  "type": "38554ed0:3645194372339689386",
                  "kind": "constant",
                  "value": 1
                }
              ]
            },
            "ram:0800069c:66:5": {
              "mnemonic": "CALL",
              "has_return_value": false,
              "target": {
                "kind": "function",
                "function": "ram:080016b8",
                "is_variadic": false,
                "is_noreturn": false
              },
              "inputs": [
                {
                  "type": "e0931073:3645194372169820095",
                  "kind": "constant",
                  "value": 1073816576
                }
              ]
            },
            "ram:080006a2:75:6": {
              "mnemonic": "CALL",
              "has_return_value": false,
              "target": {
                "kind": "function",
                "function": "ram:08001862",
                "is_variadic": false,
                "is_noreturn": false
              },
              "inputs": [
                {
                  "type": "e0931073:3645194372169820095",
                  "kind": "constant",
                  "value": 1073816576
                }
              ]
            },
            "ram:080006aa:89:7": {
              "mnemonic": "CALL",
              "has_return_value": false,
              "target": {
                "kind": "function",
                "function": "ram:08001740",
                "is_variadic": false,
                "is_noreturn": false
              },
              "inputs": [
                {
                  "type": "e0931073:3645194372169820095",
                  "kind": "constant",
                  "value": 1073816576
                },
                {
                  "type": "f6bd5cf1:3645194372339689384",
                  "kind": "constant",
                  "value": 4
                }
              ]
            },
            "ram:080006b2:103:8": {
              "mnemonic": "CALL",
              "has_return_value": false,
              "target": {
                "kind": "function",
                "function": "ram:08001856",
                "is_variadic": false,
                "is_noreturn": false
              },
              "inputs": [
                {
                  "type": "e0931073:3645194372169820095",
                  "kind": "constant",
                  "value": 1073816576
                },
                {
                  "type": "e078b2eb:3645194372339689391",
                  "kind": "constant",
                  "value": 0
                }
              ]
            },
            "ram:080006b8:112:9": {
              "mnemonic": "CALL",
              "has_return_value": false,
              "target": {
                "kind": "function",
                "function": "ram:08001748",
                "is_variadic": false,
                "is_noreturn": false
              },
              "inputs": [
                {
                  "type": "e0931073:3645194372169820095",
                  "kind": "constant",
                  "value": 1073816576
                }
              ]
            },
            "ram:080006be:121:10": {
              "mnemonic": "CALL",
              "has_return_value": false,
              "target": {
                "kind": "function",
                "function": "ram:080017e6",
                "is_variadic": false,
                "is_noreturn": false
              },
              "inputs": [
                {
                  "type": "e0931073:3645194372169820095",
                  "kind": "constant",
                  "value": 1073816576
                }
              ]
            },
            "ram:080006c4:130:11": {
              "mnemonic": "CALL",
              "has_return_value": false,
              "target": {
                "kind": "function",
                "function": "ram:08000640",
                "is_variadic": false,
                "is_noreturn": false
              },
              "inputs": [
                {
                  "type": "2169b041",
                  "kind": "constant",
                  "value": 100
                }
              ]
            },
            "ram:080006c8:141:12": {
              "mnemonic": "RETURN",
              "inputs": []
            }
          },
          "ordered_operations": [
            "ram:0800067a:11:0",
            "ram:08000680:20:1",
            "ram:08000688:34:2",
            "ram:0800068e:43:3",
            "ram:08000696:57:4",
            "ram:0800069c:66:5",
            "ram:080006a2:75:6",
            "ram:080006aa:89:7",
            "ram:080006b2:103:8",
            "ram:080006b8:112:9",
            "ram:080006be:121:10",
            "ram:080006c4:130:11",
            "ram:080006c8:141:12"
          ]
        }
      },
      "entry_block": "ram:08000674:0:basic"
    },
    "ram:080017b8": {
      "name": "rcc_periph_clock_enable",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "859c4125:3645194372339689393"
        ]
      }
    },
    "ram:08001830": {
      "name": "adc_power_off",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "e0931073:3645194372169820095"
        ]
      }
    },
    "ram:080016c8": {
      "name": "adc_set_clk_source",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "e0931073:3645194372169820095",
          "e0931073:3645194372169820095"
        ]
      }
    },
    "ram:08001844": {
      "name": "adc_calibrate",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "e0931073:3645194372169820095"
        ]
      }
    },
    "ram:08001674": {
      "name": "adc_set_operation_mode",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "e0931073:3645194372169820095",
          "38554ed0:3645194372339689386"
        ]
      }
    },
    "ram:080016b8": {
      "name": "adc_disable_external_trigger_regular",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "e0931073:3645194372169820095"
        ]
      }
    },
    "ram:08001862": {
      "name": "adc_set_right_aligned",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "e0931073:3645194372169820095"
        ]
      }
    },
    "ram:08001740": {
      "name": "adc_set_sample_time_on_all_channels",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "e0931073:3645194372169820095",
          "f6bd5cf1:3645194372339689384"
        ]
      }
    },
    "ram:08001856": {
      "name": "adc_set_resolution",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "e0931073:3645194372169820095",
          "e078b2eb:3645194372339689391"
        ]
      }
    },
    "ram:08001748": {
      "name": "adc_disable_analog_watchdog",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "e0931073:3645194372169820095"
        ]
      }
    },
    "ram:080017e6": {
      "name": "adc_power_on",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "e0931073:3645194372169820095"
        ]
      }
    },
    "ram:08000640": {
      "name": "clock_msleep",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "2c7b6d4"
        ]
      }
    }
  },
  "globals": {},
  "types": {
    "56e6a64d": {
      "name": "void",
      "size": 0,
      "kind": "void"
    },
    "859c4125:3645194372339689393": {
      "name": "rcc_periph_clken",
      "size": 2,
      "kind": "enum"
    },
    "e0931073:3645194372169820095": {
      "name": "uint32_t",
      "kind": "typedef",
      "size": 4,
      "base_type": "67aa9975"
    },
    "38554ed0:3645194372339689386": {
      "name": "adc_opmode",
      "size": 1,
      "kind": "enum"
    },
    "f6bd5cf1:3645194372339689384": {
      "name": "uint8_t",
      "kind": "typedef",
      "size": 1,
      "base_type": "838fb935"
    },
    "e078b2eb:3645194372339689391": {
      "name": "uint16_t",
      "kind": "typedef",
      "size": 2,
      "base_type": "56f4df99"
    },
    "2169b041": {
      "name": "undefined4",
      "size": 4,
      "kind": "undefined"
    },
    "2c7b6d4": {
      "name": "int",
      "size": 4,
      "kind": "integer"
    },
    "67aa9975": {
      "name": "unsigned int",
      "size": 4,
      "kind": "integer"
    },
    "838fb935": {
      "name": "unsigned char",
      "size": 1,
      "kind": "integer"
    },
    "56f4df99": {
      "name": "unsigned short",
      "size": 2,
      "kind": "integer"
    }
  }
}
