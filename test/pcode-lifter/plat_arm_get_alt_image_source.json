// RUN: bash %strip-json-comments %s > %t.json
// RUN: %pcode-lifter -input %t.json -emit-cir -emit-mlir -emit-llvm -print-tu -output %t >> /dev/null 2>&1
// RUN: test -e %t.c
// RUN: %file-check --input-file %t.cir -check-prefix=CIR
// CIR: cir.func @plat_arm_get_alt_image_source
// RUN: %file-check --input-file %t.mlir -check-prefix=MLIR
// MLIR: llvm.func @plat_arm_get_alt_image_source
// RUN: %file-check --input-file %t.ll -check-prefix=LL
// LL: define dso_local i64 @plat_arm_get_alt_image_source(i64 %0, ptr %1, ptr %2)
{"arch":"AARCH64","id":"AARCH64:LE:64:v8A","format":"Executable and Linking Format (ELF)","functions":{"ram:04022564":{"name":"plat_arm_get_alt_image_source","is_intrinsic":false,"type":{"return_type":"8411ead6","is_variadic":false,"is_noreturn":false,"parameter_types":["8411ead6","6dc02fb7","6dc02fb7"]},"basic_blocks":{"ram:04022564:0:basic":{"operations":{"ram:04022578:16:0":{"mnemonic":"INT_AND","type":"8411ead6","inputs":[{"type":"8411ead6","kind":"parameter","operation":"unique:001a7f80:0:0"},{"type":"8411ead6","kind":"constant","value":4294967295}]},"ram:04022590:29:3":{"mnemonic":"CALL","type":"8411ead6","output":{"kind":"local","operation":"unique:001a7f83:3:0"},"has_return_value":true,"target":{"kind":"function","function":"ram:0402145c","is_variadic":false,"is_noreturn":false},"inputs":[{"type":"271f9263","kind":"global","global":"ram:04027500"}]},"ram:04022594:30:4":{"mnemonic":"INT_AND","type":"8411ead6","output":{"kind":"local","operation":"unique:001a7f84:4:0"},"inputs":[{"type":"8411ead6","kind":"local","operation":"unique:001a7f83:3:0"},{"type":"8411ead6","kind":"constant","value":4294967295}]},"ram:04022598:145:5":{"mnemonic":"SUBPIECE","type":"2c7b6d4","inputs":[{"type":"8411ead6","kind":"local","operation":"unique:001a7f83:3:0"},{"type":"2169b041","kind":"constant","value":0}]},"ram:04022598:31:6":{"mnemonic":"INT_EQUAL","type":"55cce7b8","inputs":[{"type":"2c7b6d4","kind":"temporary","operation":"ram:04022598:145:5"},{"type":"2c7b6d4","kind":"constant","value":0}]},"ram:04022598:32:7":{"mnemonic":"CBRANCH","taken_block":"ram:0402259c:1:basic","not_taken_block":"ram:040225d8:3:basic","condition":{"type":"55cce7b8","kind":"temporary","operation":"ram:04022598:31:6"}}},"ordered_operations":["ram:04022578:16:0","ram:04022590:29:3","ram:04022594:30:4","ram:04022598:145:5","ram:04022598:31:6","ram:04022598:32:7"]},"ram:0402259c:1:basic":{"operations":{"ram:0402259c:38:0":{"mnemonic":"INT_MULT","type":"8411ead6","inputs":[{"type":"8411ead6","kind":"temporary","operation":"ram:04022578:16:0"},{"type":"5659ce6d","kind":"constant","value":16}]},"ram:040225a8:206:1":{"mnemonic":"ADDRESS_OF","type":"fe72c92d","inputs":[{"type":"6dc02fb7","kind":"local","operation":"unique:001a7f85:5:0"}]},"ram:040225ac:205:2":{"mnemonic":"ADDRESS_OF","type":"6dbd011e","inputs":[{"type":"2169afe1","kind":"global","global":"ram:04025230"}]},"ram:040225ac:58:3":{"mnemonic":"PTRADD","type":"6dbd011e","output":{"kind":"temporary","operation":"unique:001a7f86:6:0"},"inputs":[{"type":"6dbd011e","kind":"temporary","operation":"ram:040225ac:205:2"},{"type":"8411ead6","kind":"temporary","operation":"ram:0402259c:38:0"},{"type":"5659ce6d","kind":"constant","value":1}]},"ram:040225b8:66:6":{"mnemonic":"CALL","type":"8411ead6","output":{"kind":"local","operation":"unique:001a7f83:3:0"},"has_return_value":true,"target":{"kind":"function","function":"ram:04021494","is_variadic":false,"is_noreturn":false},"inputs":[{"type":"271f9263","kind":"global","global":"ram:04027500"},{"type":"6dbd011e","kind":"temporary","operation":"unique:001a7f86:6:0"},{"type":"fe72c92d","kind":"temporary","operation":"ram:040225a8:206:1"}]},"ram:040225bc:67:7":{"mnemonic":"INT_AND","type":"8411ead6","output":{"kind":"local","operation":"unique:001a7f84:4:0"},"inputs":[{"type":"8411ead6","kind":"local","operation":"unique:001a7f83:3:0"},{"type":"8411ead6","kind":"constant","value":4294967295}]},"ram:040225c0:147:8":{"mnemonic":"SUBPIECE","type":"2c7b6d4","inputs":[{"type":"8411ead6","kind":"local","operation":"unique:001a7f83:3:0"},{"type":"2169b041","kind":"constant","value":0}]},"ram:040225c0:68:9":{"mnemonic":"INT_EQUAL","type":"55cce7b8","inputs":[{"type":"2c7b6d4","kind":"temporary","operation":"ram:040225c0:147:8"},{"type":"2c7b6d4","kind":"constant","value":0}]},"ram:040225c0:69:10":{"mnemonic":"CBRANCH","taken_block":"ram:040225c4:2:basic","not_taken_block":"ram:040225d8:3:basic","condition":{"type":"55cce7b8","kind":"temporary","operation":"ram:040225c0:68:9"}}},"ordered_operations":["ram:0402259c:38:0","ram:040225a8:206:1","ram:040225ac:205:2","ram:040225ac:58:3","ram:040225b8:66:6","ram:040225bc:67:7","ram:040225c0:147:8","ram:040225c0:68:9","ram:040225c0:69:10"]},"ram:040225c4:2:basic":{"operations":{"ram:040225c8:73:1":{"mnemonic":"CALL","has_return_value":false,"target":{"kind":"function","function":"ram:040215c8","is_variadic":false,"is_noreturn":false},"inputs":[{"type":"6dc02fb7","kind":"local","operation":"unique:001a7f85:5:0"}]},"ram:040225d0:77:3":{"mnemonic":"STORE","inputs":[{"type":"6dc02fb7","kind":"parameter","operation":"unique:001a7f81:1:0"},{"type":"271f9263","kind":"global","global":"ram:04027500"}]},"ram:040225d4:79:5":{"mnemonic":"STORE","inputs":[{"type":"6dc02fb7","kind":"parameter","operation":"unique:001a7f82:2:0"},{"type":"6dbd011e","kind":"temporary","operation":"unique:001a7f86:6:0"}]},"ram:040225c4:2:basic.exit":{"mnemonic":"BRANCH","target_block":"ram:040225d8:3:basic"}},"ordered_operations":["ram:040225c8:73:1","ram:040225d0:77:3","ram:040225d4:79:5","ram:040225c4:2:basic.exit"]},"ram:040225d8:3:basic":{"operations":{"ram:040225d8:80:2":{"mnemonic":"COPY","type":"8411ead6","inputs":[{"type":"8411ead6","kind":"local","operation":"unique:001a7f84:4:0"}]},"ram:040225ec:103:4":{"mnemonic":"RETURN","inputs":[{"type":"8411ead6","kind":"temporary","operation":"ram:040225d8:80:2"}]}},"ordered_operations":["ram:040225d8:80:2","ram:040225ec:103:4"]},"ram:04022564:entry":{"operations":{"unique:001a7f80:0:0":{"mnemonic":"DECLARE_PARAMETER","name":"param_1","type":"8411ead6","kind":"parameter","index":0},"unique:001a7f81:1:0":{"mnemonic":"DECLARE_PARAMETER","name":"param_2","type":"6dc02fb7","kind":"parameter","index":1},"unique:001a7f82:2:0":{"mnemonic":"DECLARE_PARAMETER","name":"param_3","type":"6dc02fb7","kind":"parameter","index":2},"unique:001a7f83:3:0":{"mnemonic":"DECLARE_LOCAL","kind":"local","name":"uVar1","type":"8411ead6"},"unique:001a7f84:4:0":{"mnemonic":"DECLARE_LOCAL","kind":"local","name":"uVar2","type":"8411ead6"},"unique:001a7f85:5:0":{"mnemonic":"DECLARE_LOCAL","kind":"local","name":"local_8","type":"6dc02fb7"},"unique:001a7f86:6:0":{"mnemonic":"DECLARE_TEMPORARY","name":"temp","kind":"temporary","type":"6dbd011e","address":"ram:040225ac:58:3"},"entry.exit":{"mnemonic":"BRANCH","target_block":"ram:04022564:0:basic"}},"ordered_operations":["unique:001a7f80:0:0","unique:001a7f81:1:0","unique:001a7f82:2:0","unique:001a7f83:3:0","unique:001a7f84:4:0","unique:001a7f85:5:0","unique:001a7f86:6:0","entry.exit"]}},"entry_block":"ram:04022564:entry"},"ram:0402145c":{"name":"io_dev_init","is_intrinsic":false,"type":{"return_type":"2169b0c1","is_variadic":false,"is_noreturn":false,"parameter_types":["271f9263"]}},"ram:04021494":{"name":"io_open","is_intrinsic":false,"type":{"return_type":"8411ead6","is_variadic":false,"is_noreturn":false,"parameter_types":["271f9263","2169b0c1","6dc02fb7"]}},"ram:040215c8":{"name":"io_close","is_intrinsic":false,"type":{"return_type":"8411ead6","is_variadic":false,"is_noreturn":false,"parameter_types":["6dc02fb7"]}}},"globals":{"ram:04025230":{"name":"sh_file_spec","size":"1","type":"2169afe1"},"ram:04027500":{"name":"sh_dev_handle","size":"8","type":"271f9263"}},"types":{"8411ead6":{"name":"unsigned long","size":8,"kind":"integer"},"6dc02fb7":{"kind":"pointer","size":8,"element_type":"2169b0c1"},"271f9263":{"kind":"pointer","size":8,"element_type":"5659ce6d"},"2c7b6d4":{"name":"int","size":4,"kind":"integer"},"2169b041":{"name":"undefined4","size":4,"kind":"undefined"},"55cce7b8":{"name":"bool","size":1,"kind":"integer"},"5659ce6d":{"name":"long","size":8,"kind":"integer"},"fe72c92d":{"kind":"pointer","size":8,"element_type":"6dc02fb7"},"6dbd011e":{"kind":"pointer","size":8,"element_type":"2169afe1"},"2169afe1":{"name":"undefined1","size":1,"kind":"undefined"},"2169b0c1":{"name":"undefined8","size":8,"kind":"undefined"}}}