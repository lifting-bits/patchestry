// RUN: bash %strip-json-comments %s > %t.json
// RUN: %patchir-decomp -input %t.json -emit-cir -emit-mlir -emit-llvm -print-tu -output %t >> /dev/null 2>&1
// RUN: test -e %t.c
// RUN: %file-check -vv -check-prefix=CIR %s --input-file %t.cir
// CIR: cir.func @array_copy_same_type
// RUN: %file-check -vv -check-prefix=MLIR %s --input-file %t.mlir
// MLIR: llvm.func @array_copy_same_type
// RUN: %file-check -vv -check-prefix=LL %s --input-file %t.ll
// LL: define dso_local void @array_copy_same_type
{
  "architecture": "ARM",
  "id": "ARM:LE:32:Cortex",
  "format": "Executable and Linking Format (ELF)",
  "functions": {
    "ram:10000000": {
      "name": "array_copy_same_type",
      "is_intrinsic": false,
      "type": {
        "return_type": "56e6a64d",
        "is_variadic": false,
        "is_noreturn": false,
        "parameter_types": [
          "e0931073"
        ]
      },
      "basic_blocks": {
        "ram:10000000:0:basic": {
          "operations": {
            "ram:10000010:651:0": {
              "mnemonic": "CAST",
              "type": "5e769001",
              "inputs": [
                {
                  "type": "e0931073",
                  "kind": "parameter",
                  "operation": "unique:000da100:0:0"
                }
              ]
            },
            "ram:10000010:650:1": {
              "mnemonic": "COPY",
              "type": "5e769000",
              "output": {
                "kind": "global",
                "global": "ram:20000000"
              },
              "inputs": [
                {
                  "type": "5e769001",
                  "kind": "temporary",
                  "operation": "ram:10000010:651:0"
                }
              ]
            },
            "ram:10000014:365:2": {
              "mnemonic": "RETURN",
              "inputs": []
            }
          },
          "ordered_operations": [
            "ram:10000010:651:0",
            "ram:10000010:650:1",
            "ram:10000014:365:2"
          ]
        },
        "ram:10000000:entry": {
          "operations": {
            "unique:000da100:0:0": {
              "mnemonic": "DECLARE_PARAMETER",
              "name": "param_1",
              "type": "e0931073",
              "kind": "parameter",
              "index": 0
            },
            "entry.exit": {
              "mnemonic": "BRANCH",
              "target_block": "ram:10000000:0:basic"
            }
          },
          "ordered_operations": [
            "unique:000da100:0:0",
            "entry.exit"
          ]
        }
      },
      "entry_block": "ram:10000000:entry"
    }
  },
  "globals": {
    "ram:20000000": {
      "name": "GlobalArray",
      "size": "4",
      "type": "5e769000"
    }
  },
  "types": {
    "56e6a64d": {
      "name": "void",
      "size": 0,
      "kind": "void"
    },
    "e0931073": {
      "name": "uint32_t",
      "kind": "typedef",
      "size": 4,
      "base_type": "67aa9975"
    },
    "5e769001": {
      "kind": "array",
      "size": 4,
      "num_elements": 4,
      "element_type": "838fb935"
    },
    "5e769000": {
      "kind": "array",
      "size": 4,
      "num_elements": 4,
      "element_type": "838fb935"
    },
    "838fb935": {
      "name": "uint8_t",
      "kind": "typedef",
      "size": 1,
      "base_type": "55d1855a"
    },
    "55d1855a": {
      "name": "unsigned char",
      "size": 1,
      "kind": "integer"
    },
    "67aa9975": {
      "name": "unsigned int",
      "size": 4,
      "kind": "integer"
    }
  }
}
